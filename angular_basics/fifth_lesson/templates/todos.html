<h1>My ToDos</h1>

<div class='list' ng-controller='mainCtrl'>

  <div class='add'>
    <a href='' ng-click='addTodo()'>+Add a New ToDo</a>
  </div>

  <div class ='item' ng-class="{'editing-item': editing, 'edited': todo.edited, 'completed': todo.completed}" ng-repeat="todo in todos | orderBy: 'completed'" ng-init="todo.completed = false">

    <input type='checkbox' ng-model='todo.completed'/>
    <span ng-click="todo.completed = !todo.completed; todo.edited = true"></span>
    <label ng-click='editing = true' ng-hide='editing'>{{todo.name}}</label>
    <input class='editing-label' type='text' ng-model='todo.name' ng-change='todo.edited = true' ng-show='editing' ng-blur='editing = false;'/>

    <div class='actions'>
      <a href='' ng-click='saveTodos(todo)'>save</a>
      <a href='' class='delete' ng-click='deleteTodo(todo, $index)'>delete</a>
    </div>

  </div>

</div>
